-- Вставка тестовых данных
\c aquapark_db;

-- Пользователи
INSERT INTO Users (Username, Email, PasswordHash, FirstName, LastName, Phone, DateOfBirth, IsAdmin, IsActive, TotalOrders, TotalSpent, Address, Gender) VALUES
('admin', 'admin@aquapark.com', 'jGl25bVBBBW96Qi9Te4V37Fnqchz/Eu4qB9vKrRIqRg=', 'Администратор', 'Системы', '+7 (999) 123-45-67', '1985-01-01', TRUE, TRUE, 0, 0, 'Москва, ул. Административная, 1', 'Мужской'),
('ivanov', 'ivanov@email.com', 'jGl25bVBBBW96Qi9Te4V37Fnqchz/Eu4qB9vKrRIqRg=', 'Иван', 'Иванов', '+7 (999) 234-56-78', '1990-05-15', FALSE, TRUE, 3, 4500.00, 'Москва, ул. Пользовательская, 10', 'Мужской'),
('petrov', 'petrov@email.com', 'jGl25bVBBBW96Qi9Te4V37Fnqchz/Eu4qB9vKrRIqRg=', 'Петр', 'Петров', '+7 (999) 345-67-89', '1988-12-03', FALSE, TRUE, 5, 7200.00, 'Санкт-Петербург, ул. Клиентская, 25', 'Мужской'),
('sidorova', 'sidorova@email.com', 'jGl25bVBBBW96Qi9Te4V37Fnqchz/Eu4qB9vKrRIqRg=', 'Анна', 'Сидорова', '+7 (999) 456-78-90', '1995-08-20', FALSE, TRUE, 2, 2800.00, 'Казань, ул. Посетительская, 5', 'Женский'),
('kozlov', 'kozlov@email.com', 'jGl25bVBBBW96Qi9Te4V37Fnqchz/Eu4qB9vKrRIqRg=', 'Алексей', 'Козлов', '+7 (999) 567-89-01', '1992-03-15', FALSE, TRUE, 4, 5600.00, 'Екатеринбург, ул. Гостевская, 15', 'Мужской');

-- Аттракционы
INSERT INTO Attractions (Name, Description, Price, MinAge, MaxAge, MinHeight, MaxHeight, Capacity, Duration, Category, DifficultyLevel, IsActive) VALUES
('Водная горка "Торнадо"', 'Экстремальная горка высотой 25 метров с крутыми поворотами и водными эффектами', 1500.00, 12, 65, 140, 200, 1, 45, 'Водные горки', 'Сложный', TRUE),
('Семейная горка "Радуга"', 'Плавная горка для всей семьи с красивыми световыми эффектами', 800.00, 6, 80, 110, 200, 2, 30, 'Водные горки', 'Легкий', TRUE),
('Волновой бассейн', 'Большой бассейн с искусственными волнами и зоной для детей', 500.00, 3, 100, 80, 220, 50, 60, 'Бассейны', 'Легкий', TRUE),
('Детский бассейн "Морские звезды"', 'Неглубокий бассейн с игровыми элементами для малышей', 300.00, 2, 8, 60, 120, 20, 45, 'Бассейны', 'Легкий', TRUE),
('СПА-зона "Океан"', 'Релакс-зона с гидромассажем, сауной и джакузи', 2000.00, 16, 80, 140, 200, 10, 90, 'СПА и релакс', 'Легкий', TRUE),
('Экстремальная горка "Цунами"', 'Самая высокая горка аквапарка с вертикальным спуском', 2500.00, 16, 60, 150, 200, 1, 60, 'Водные горки', 'Сложный', TRUE),
('Ленивая река', 'Спокойное течение для расслабляющего плавания', 400.00, 5, 100, 100, 220, 30, 30, 'Бассейны', 'Легкий', TRUE),
('Водопад "Ниагара"', 'Искусственный водопад с массажным эффектом', 600.00, 8, 80, 120, 200, 5, 20, 'Водные аттракционы', 'Средний', TRUE),
('Детская площадка "Пираты"', 'Игровая зона с водными пушками и горками для детей', 400.00, 4, 12, 90, 150, 15, 45, 'Детские зоны', 'Легкий', TRUE),
('Гидромассаж "Атлантида"', 'Зона с различными видами гидромассажа', 1200.00, 14, 80, 130, 200, 8, 60, 'СПА и релакс', 'Средний', TRUE);

-- Акции/промокоды
INSERT INTO Promotions (Name, Description, DiscountPercent, MinOrderAmount, StartDate, EndDate, PromoCode, UsageLimit, IsActive) VALUES
('Скидка 10% на первый заказ', 'Специальное предложение для новых клиентов', 10.00, 1000.00, '2024-01-01', '2024-12-31', 'WELCOME10', 0, TRUE),
('Семейная скидка', 'Скидка 15% при заказе от 5000 рублей', 15.00, 5000.00, '2024-01-01', '2024-12-31', 'FAMILY15', 0, TRUE),
('Летняя акция', 'Скидка 20% на все водные горки', 20.00, 2000.00, '2024-06-01', '2024-08-31', 'SUMMER20', 100, TRUE),
('Фиксированная скидка 500 рублей', 'Скидка 500 рублей при заказе от 3000 рублей', 0.00, 3000.00, '2024-01-01', '2024-12-31', 'SAVE500', 0, TRUE);

-- Обновляем UpdatedAt для аттракционов
UPDATE Attractions SET UpdatedAt = CURRENT_TIMESTAMP WHERE UpdatedAt IS NULL;

-- Настройки системы
INSERT INTO SystemSettings (SettingKey, SettingValue, Description) VALUES
('site_name', 'Аквапарк "Водный мир"', 'Название аквапарка'),
('currency', 'RUB', 'Валюта по умолчанию'),
('tax_rate', '10', 'Налоговая ставка в процентах'),
('max_cart_items', '10', 'Максимальное количество товаров в корзине'),
('session_timeout', '30', 'Таймаут сессии в минутах'),
('email_notifications', 'true', 'Включить email уведомления'),
('maintenance_mode', 'false', 'Режим технического обслуживания'),
('booking_advance_days', '30', 'Количество дней для предварительного бронирования');

-- Уведомления
INSERT INTO Notifications (UserId, Title, Message, Type) VALUES
(2, 'Добро пожаловать!', 'Спасибо за регистрацию в нашем аквапарке!', 'Success'),
(2, 'Новая акция', 'Специальная скидка 20% на все аттракционы!', 'Info'),
(3, 'Напоминание о бронировании', 'Не забудьте подтвердить ваше бронирование на завтра', 'Warning'),
(4, 'Отзыв принят', 'Ваш отзыв о горке "Торнадо" был опубликован', 'Success');

-- Отзывы
INSERT INTO Reviews (UserId, AttractionId, Rating, Comment, IsApproved) VALUES
(2, 1, 5, 'Отличная горка! Очень крутые повороты и адреналин зашкаливает!', TRUE),
(3, 2, 4, 'Моему ребенку очень понравилось. Безопасно и весело.', TRUE),
(4, 3, 5, 'Прекрасное место для релакса. Обязательно вернусь!', TRUE),
(2, 4, 3, 'Неплохо, но волны могли бы быть посильнее.', TRUE),
(5, 1, 5, 'Супер! Рекомендую всем любителям экстрима!', FALSE);

-- Примеры заказов
INSERT INTO Orders (UserId, OrderNumber, TotalAmount, DiscountAmount, FinalAmount, Status, PaymentMethod, CreatedAt, PaidAt) VALUES
(2, 'ORD-2024-001', 2300.00, 230.00, 2070.00, 'Paid', 'Card', '2024-01-15 10:30:00', '2024-01-15 10:32:00'),
(3, 'ORD-2024-002', 1500.00, 0.00, 1500.00, 'Paid', 'Cash', '2024-01-16 14:20:00', '2024-01-16 14:25:00'),
(4, 'ORD-2024-003', 3200.00, 320.00, 2880.00, 'Paid', 'Online', '2024-01-17 09:15:00', '2024-01-17 09:18:00');

-- Примеры билетов
INSERT INTO Tickets (UserId, AttractionId, OrderId, VisitDate, VisitTime, Price, Quantity, TotalPrice, Status, CreatedAt, ConfirmedAt, QrCode) VALUES
(2, 1, 1, '2024-01-20', '14:00:00', 1500.00, 1, 1500.00, 'Confirmed', '2024-01-15 10:30:00', '2024-01-15 10:32:00', 'QR001'),
(2, 2, 1, '2024-01-20', '15:00:00', 800.00, 1, 800.00, 'Confirmed', '2024-01-15 10:30:00', '2024-01-15 10:32:00', 'QR002'),
(3, 1, 2, '2024-01-21', '16:00:00', 1500.00, 1, 1500.00, 'Confirmed', '2024-01-16 14:20:00', '2024-01-16 14:25:00', 'QR003'),
(4, 3, 3, '2024-01-22', '11:00:00', 2000.00, 1, 2000.00, 'Confirmed', '2024-01-17 09:15:00', '2024-01-17 09:18:00', 'QR004'),
(4, 4, 3, '2024-01-22', '12:00:00', 500.00, 2, 1000.00, 'Confirmed', '2024-01-17 09:15:00', '2024-01-17 09:18:00', 'QR005');
